(function(t){function e(e){for(var i,o,s=e[0],c=e[1],l=e[2],u=0,v=[];u<s.length;u++)o=s[u],a[o]&&v.push(a[o][0]),a[o]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);d&&d(e);while(v.length)v.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],i=!0,o=1;o<n.length;o++){var c=n[o];0!==a[c]&&(i=!1)}i&&(r.splice(e--,1),t=s(s.s=n[0]))}return t}var i={},a={app:0},r=[];function o(t){return s.p+"js/"+({about:"about"}[t]||t)+"-legacy."+{about:"0277c924"}[t]+".js"}function s(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(t){var e=[],n=a[t];if(0!==n)if(n)e.push(n[2]);else{var i=new Promise(function(e,i){n=a[t]=[e,i]});e.push(n[2]=i);var r,c=document.createElement("script");c.charset="utf-8",c.timeout=120,s.nc&&c.setAttribute("nonce",s.nc),c.src=o(t),r=function(e){c.onerror=c.onload=null,clearTimeout(l);var n=a[t];if(0!==n){if(n){var i=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src,o=new Error("Loading chunk "+t+" failed.\n("+i+": "+r+")");o.type=i,o.request=r,n[1](o)}a[t]=void 0}};var l=setTimeout(function(){r({type:"timeout",target:c})},12e4);c.onerror=c.onload=r,document.head.appendChild(c)}return Promise.all(e)},s.m=t,s.c=i,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(n,i,function(e){return t[e]}.bind(null,i));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/",s.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var d=l;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},"0213":function(t,e,n){},"3a62":function(t,e,n){},4799:function(t,e,n){},"8e3b":function(t,e,n){"use strict";var i=n("acac"),a=n.n(i);a.a},acac:function(t,e,n){},b491:function(t,e,n){"use strict";var i=n("4799"),a=n.n(i);a.a},cd49:function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var i=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",{attrs:{id:"app"}},[n("v-navigation-drawer",{staticClass:"mdrawer",attrs:{width:"400",temporary:"",app:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[n("v-container",[n("h6",{staticClass:"title"},[t._v("ORBAT Chart Builder\n        "),n("v-chip",{attrs:{color:"warning"}},[t._v("alpha")])],1),n("p",{staticClass:"subheading"},[t._v("Work in progress ...")])])],1),n("v-content",[n("v-container",{staticClass:"py-0 px-0 mx-0 my-0",attrs:{fluid:"","fill-height":""}},[n("v-layout",[n("v-flex",{staticClass:"sidebar pa-1",staticStyle:{"z-index":"4"}},[n("v-app-bar-nav-icon",{attrs:{dark:"",small:""},on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}),n("v-btn",{staticClass:"mb-1",class:{"v-btn--active":t.orbatPanel},attrs:{text:"",icon:"",dark:"",small:"",title:"Toggle ORBAT panel"},on:{click:function(e){t.orbatPanel=!t.orbatPanel}}},[n("v-icon",[t._v("mdi-file-tree")])],1),n("v-btn",{class:{"v-btn--active":t.settingsPanel},attrs:{text:"",icon:"",dark:"",small:"",title:"Toggle settings panel"},on:{click:function(e){t.settingsPanel=!t.settingsPanel}}},[n("v-icon",[t._v("mdi-settings")])],1),n("router-view",{attrs:{name:"toolbar"}})],1),n("v-flex",[n("router-view")],1)],1)],1)],1)],1)},r=[],o=n("d225"),s=n("b0b4"),c=n("308d"),l=n("6bb5"),u=n("4e2b"),d=n("9ab4"),v=n("65d9"),p=n.n(v),f=function(t){function e(){return Object(o["a"])(this,e),Object(c["a"])(this,Object(l["a"])(e).apply(this,arguments))}return Object(u["a"])(e,t),Object(s["a"])(e,[{key:"activeSettingsPanel",get:function(){return this.$store.state.ui.activeSettingsPanel},set:function(t){this.activeSettingsPanel!==t&&this.$store.commit("setActiveSettingsPanel",t)}},{key:"highlightedLevels",get:function(){return this.$store.state.ui.highlightedLevels},set:function(t){this.highlightedLevels!==t&&this.$store.commit("setHighlightedLevels",t)}}]),e}(i["default"]);f=d["a"]([p.a],f);var h=function(t){function e(){return Object(o["a"])(this,e),Object(c["a"])(this,Object(l["a"])(e).apply(this,arguments))}return Object(u["a"])(e,t),Object(s["a"])(e,[{key:"orbatPanel",get:function(){return this.$store.state.ui.orbatPanel},set:function(t){this.orbatPanel!==t&&this.$store.commit("setOrbatPanel",t)}},{key:"settingsPanel",get:function(){return this.$store.state.ui.settingsPanel},set:function(t){this.settingsPanel!==t&&this.$store.commit("setSettingsPanel",t)}},{key:"settings",get:function(){return this.$store.state.chart.chartOptions}},{key:"interactiveChart",get:function(){return this.$store.state.ui.interactiveChart},set:function(t){this.interactiveChart!==t&&this.$store.commit("setInteractiveChart",t)}}]),e}(i["default"]);h=d["a"]([p.a],h);var m=n("cf68"),b=m,g=i["default"].extend({mixins:[h],components:{},data:function(){return{drawer:null}},created:function(){this.$store.commit("setOrbat",[b])}}),y=g,O=n("2877"),L=n("6544"),k=n.n(L),x=n("7496"),S=n("5bc1"),j=n("8336"),C=n("cc20"),w=n("a523"),I=n("a75b"),U=n("0e8f"),G=n("132d"),P=n("a722"),_=n("f774"),T=Object(O["a"])(y,a,r,!1,null,null,null),V=T.exports;k()(T,{VApp:x["a"],VAppBarNavIcon:S["a"],VBtn:j["a"],VChip:C["a"],VContainer:w["a"],VContent:I["a"],VFlex:U["a"],VIcon:G["a"],VLayout:P["a"],VNavigationDrawer:_["a"]});var E,$,A,B,M,N=n("8c4f"),D=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-layout",{attrs:{"fill-height":""}},[n("v-flex",{staticClass:"panel",staticStyle:{"z-index":"3"}},[n("SlidePanel",{attrs:{"header-title":"ORBAT"},on:{onSlide:t.onSlide},model:{value:t.orbatPanel,callback:function(e){t.orbatPanel=e},expression:"orbatPanel"}},[n("OrbatTree",{attrs:{rootUnits:t.orbat},on:{selectunit:t.onSelectUnit}})],1)],1),n("v-flex",{staticClass:"panel",staticStyle:{"z-index":"2"}},[n("SlidePanel",{attrs:{"header-title":"Settings"},model:{value:t.settingsPanel,callback:function(e){t.settingsPanel=e},expression:"settingsPanel"}},[n("SettingsPanel")],1)],1),n("v-flex",{staticClass:"chart-panel"},[n("OrbatChart",t._b({staticClass:"px-0 py-0 home",attrs:{unit:t.currentUnit,specificOptions:t.specificOptions,interactive:t.interactiveChart,highlightedLevels:t.highlightedLevels},on:{unitclick:t.onUnitClick,levelclick:t.onLevelClick,levelgroupclick:t.onLevelGroupClick}},"OrbatChart",t.settings,!1))],1)],1)},z=[],R=(n("7f7f"),n("60a3")),H=n("75fc"),q=(n("c5f6"),n("8e6e"),n("456d"),n("768b")),F=(n("ac4d"),n("8a81"),n("ac6a"),n("bd86")),W=n("d61f"),Y=n.n(W),X=n("fd32");function Z(t,e){var n=0;function i(t,a){if(e(t,n,a),t.subUnits){n+=1;var r=!0,o=!1,s=void 0;try{for(var c,l=t.subUnits[Symbol.iterator]();!(r=(c=l.next()).done);r=!0){var u=c.value;i(u,t)}}catch(d){o=!0,s=d}finally{try{r||null==l.return||l.return()}finally{if(o)throw s}}n-=1}}i(t,null)}function Q(t){var e;return(e=[]).concat.apply(e,Object(H["a"])(t))}function J(t){return t.reduce(function(t,e){return t+e},0)}(function(t){t["Top"]="TOP",t["Bottom"]="BOTTOM"})(E||(E={})),function(t){t["Horizontal"]="HORIZONTAL",t["Stacked"]="STACKED",t["Tree"]="TREE",t["TreeLeft"]="TREE_LEFT",t["TreeRight"]="TREE_RIGHT"}($||($={})),function(t){t["Fixed"]="FIXED",t["EqualPadding"]="EQUAL_PADDING"}(A||(A={})),function(t){t["Top"]="TOP",t["Middle"]="MIDDLE",t["Bottom"]="BOTTOM"}(B||(B={})),function(t){t[t["Level"]=0]="Level",t[t["LevelGroup"]=1]="LevelGroup",t[t["Unit"]=2]="Unit"}(M||(M={}));var K=600,tt=600,et=50,nt=50,it=100,at={symbolSize:32,maxLevels:0,debug:!1,connectorOffset:5,orientation:E.Top,unitLevelDistance:A.Fixed,lastLevelLayout:$.Horizontal,layout:$.Horizontal,verticalAlignment:B.Top,levelPadding:175,treeOffset:et,stackedOffset:nt,lineWidth:1};function rt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function ot(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?rt(n,!0).forEach(function(e){Object(F["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rt(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var st="\n\n  .o-unit:hover {\n    stroke: red;\n    fill: blue;\n  }\n\n  .highlight {\n    stroke: gray;\n    stroke-dasharray: 5, 5;\n    fill: white;\n    fill-opacity: 0;\n  }\n\n  .highlight:hover {\n    stroke: red;\n    stroke-width: 2pt;\n    fill: #ccc;\n  }\n";function ct(t){return"\n.o-line {\n  stroke: black;\n  stroke-width: ".concat(t.lineWidth,"pt;\n  fill:none;\n}\n\n.o-label {\n  text-anchor: middle;\n}\n\n").concat(st,"\n")}function lt(t,e){var n,i={size:e.symbolSize};n=e.symbolGenerator?e.symbolGenerator(t.unit.sidc,i):new W["Symbol"](t.unit.sidc,i);var a=t;return a.symbolBoxSize=n.getSize(),a.anchor=n.getAnchor(),a.octagonAnchor=n.getOctagonAnchor(),a.symb=n,a.x=0,a.y=0,a.lx=0,a.rx=0,a.ly=0,a}function ut(t,e,n,i){arguments.length>4&&void 0!==arguments[4]&&arguments[4];var a=n-e.octagonAnchor.x,r=i-e.octagonAnchor.y;return t.attr("transform","translate(".concat(a,", ").concat(r,")"))}function dt(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=t.append("g").attr("class",e);return n&&i.attr("id",n),i}function vt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#ccc";if(t){var n=t.node().getBBox();t.append("rect").lower().classed("dbg-rect",!0).attr("x",n.x).attr("y",n.y).attr("width",n.width).attr("height",n.height).style("fill",e).style("fill-opacity",".4").style("stroke","#666").style("stroke-width","1.5px")}}function pt(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"red";t.append("circle").attr("cx",e).attr("cy",n).attr("r",4).attr("fill",i)}function ft(t,e,n){var i=dt(t,"o-unit");i.append("g").html(e.symb.asSVG()),i.append("text").attr("x",e.octagonAnchor.x).attr("dy","1.1em").attr("y",e.symbolBoxSize.height).attr("class","o-label").text(e.unit.name),n.onClick&&i.on("click",function(t){n.onClick(e)}),n.debug&&vt(i);var a=e;return a.groupElement=i,a.boundingBox=i.node().getBBox(),a}function ht(t){return t===$.TreeRight||t===$.TreeLeft}function mt(t){return t===$.TreeRight||t===$.TreeLeft||t===$.Tree}function bt(t){return t===$.TreeRight||t===$.TreeLeft||t===$.Tree||t===$.Stacked}function gt(t){var e=t.x,n=t.y;t.ly=n+(t.boundingBox.height-t.octagonAnchor.y),t.lx=e-t.boundingBox.width/2,t.rx=e+t.boundingBox.width/2}function yt(t,e){pt(t,e.x,e.y),pt(t,e.x,e.ly),pt(t,e.lx,e.y),pt(t,e.rx,e.y)}var Ot,Lt,kt=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(o["a"])(this,t),this.rootNode=e,this.specificOptions=i,this.groupedLevels=[],this.options=ot({},at,{},n),e&&this._computeOrbatInfo(e)}return Object(s["a"])(t,[{key:"cleanup",value:function(){this.svg&&(this.svg.selectAll("g.o-unit").on("click",null),this._removeSelectEventListeners())}},{key:"_removeSelectEventListeners",value:function(){this.svg.selectAll(".select-rect").on("click",null)}},{key:"toSVG",value:function(t,e){this.width=t.width||K,this.height=t.height||tt;var n=this._createSvgElement(e);return n.levels=this._createInitialNodeStructure(this.svg,this.groupedLevels),this._doNodeLayout(n),this._drawConnectors(n),this.renderedChart=n,this.svg.node()}},{key:"highlightLevel",value:function(t){var e=this,n=Object(X["a"])("#o-highlight-layer"),i=Object(X["a"])("#o-level-".concat(t)),a=i.node().getBBox(),r=20,o=n.append("rect").attr("x",a.x-2*r).attr("y",a.y-r).attr("width",a.width+4*r).attr("height",a.height+2*r).attr("class","highlight select-rect");this.options.onLevelClick&&o.on("click",function(n){e.options.onLevelClick(t)})}},{key:"highlightGroup",value:function(t){var e=this,n=Object(X["a"])("#o-highlight-layer"),i=t.groupElement,a=i.node().getBBox(),r=10,o=n.append("rect").attr("x",a.x-2*r).attr("y",a.y-r).attr("width",a.width+4*r).attr("height",a.height+2*r).attr("class","highlight select-rect");this.options.onLevelGroupClick&&o.on("click",function(n){e.options.onLevelGroupClick(t.units[0].parent.unit.id||0)})}},{key:"_createSvgElement",value:function(t){t.innerHTML="";var e=Object(X["a"])(t).append("svg").attr("viewBox","0 0 ".concat(this.width," ").concat(this.height)).attr("class","orbat-chart");return e.append("style").text(ct(this.options)),e.attr("width","100%"),e.attr("height","100%"),this.options.debug&&e.append("rect").attr("fill","none").attr("stroke","red").attr("y","0").attr("x","0").attr("width",this.width).attr("height",this.height),dt(e,"","o-highlight-layer"),this.svg=e,{groupElement:e,levels:[]}}},{key:"_computeOrbatInfo",value:function(t){var e=[],n={};function i(){var t=[];return e.forEach(function(e,n){var i=e.reduce(function(t,e,n,i){return 0===n?(t.push([e]),t):i[n-1].parent===e.parent?(t[t.length-1].push(e),t):(t.push([e]),t)},[]);t[n]=i}),t}Z(t,function(t,i,a){var r={unit:t},o=e[i]||[];a&&(r.parent=n[a.id]),n[t.id]=r,o.push(r),e[i]=o}),this.groupedLevels=i()}},{key:"_createInitialNodeStructure",value:function(t,e){var n=this,i=this.options,a=[],r=!0,o=!1,s=void 0;try{for(var c,l=function(){var e=Object(q["a"])(c.value,2),r=e[0],o=e[1];if(i.maxLevels&&r>=i.maxLevels)return"break";var s={};n.specificOptions.level&&n.specificOptions.level[r]&&(s=n.specificOptions.level[r]||{});var l=dt(t,"o-level","o-level-".concat(r)),u={groupElement:l,unitGroups:[],options:s};a.push(u);var d=ot({},i,{},s);o.forEach(function(t,e){var i=t[0].parent,a={};i&&n.specificOptions&&n.specificOptions.levelGroup&&(a=n.specificOptions.levelGroup[i.unit.id]||{});var r=ot({},d,{},a),o="o-level-group-".concat(i?i.unit.id:0),s=dt(l,"o-level-group",o),c=t.map(function(t){var e=n.specificOptions&&n.specificOptions.unit&&n.specificOptions.unit[t.unit.id]||{},i=ot({},r,{},e),a=ft(s,lt(t,i),i);return a.options=e,a});u.unitGroups.push({groupElement:s,units:c,options:a})})},u=e.entries()[Symbol.iterator]();!(r=(c=u.next()).done);r=!0){var d=l();if("break"===d)break}}catch(v){o=!0,s=v}finally{try{r||null==u.return||u.return()}finally{if(o)throw s}}return a}},{key:"_doNodeLayout",value:function(t){var e=this,n=this.groupedLevels.length,i=this.options.maxLevels||n,a=this.height,r=it;t.levels.forEach(function(t,o){var s;e.options.verticalAlignment===B.Middle?s=a*((o+1)/(n+1)):(s=r,r+=e.options.levelPadding);var c=$.Horizontal;o===i-1&&(c=e.options.lastLevelLayout),e._renderLevel(t,s,c)})}},{key:"_renderLevel",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$.Horizontal,i=ot({},this.options,{},t.options),a=this.width,r=this.svg,o=t.unitGroups,s=Q(o.map(function(t){return t.units})),c=s.length,l=J(s.map(function(t){return t.boundingBox.width})),u=a-l,d=u/c;switch(n){case $.Horizontal:v();break;case $.Tree:p();break;case $.Stacked:case $.TreeRight:case $.TreeLeft:f(n);break;default:console.warn("Unhandled layout",n)}function v(){var n=0,o=-d/2;t.unitGroups.forEach(function(t,s){var l=ot({},i,{},t.options),u=!0,v=!1,p=void 0;try{for(var f,h=t.units[Symbol.iterator]();!(u=(f=h.next()).done);u=!0){var m=f.value,b=void 0,g=ot({},l,{},m.options);b=g.unitLevelDistance==A.EqualPadding?o+m.boundingBox.width/2+d:(n+1)*a/(c+1),m.x=b,m.y=e,gt(m),o=m.x+m.boundingBox.width/2,ut(m.groupElement,m,b,e,g.debug),g.debug&&yt(r,m),n+=1}}catch(y){v=!0,p=y}finally{try{u||null==h.return||h.return()}finally{if(v)throw p}}l.debug&&vt(t.groupElement,"yellow")})}function p(){var n=t.unitGroups.length;t.unitGroups.forEach(function(t,o){var s=ot({},i,{},t.options),c=e,l=!0,u=!1,d=void 0;try{for(var v,p=t.units.entries()[Symbol.iterator]();!(l=(v=p.next()).done);l=!0){var f=Object(q["a"])(v.value,2),h=f[0],m=f[1],b=ot({},s,{},m.options),g=m.parent?m.parent.x:(o+1)*a/(n+1);h%2?g+=b.treeOffset:g-=b.treeOffset;var y=c;m.x=g,m.y=y,gt(m),h%2&&(c=m.ly+b.stackedOffset),ut(m.groupElement,m,g,y,b.debug),b.debug&&yt(r,m)}}catch(O){u=!0,d=O}finally{try{l||null==p.return||p.return()}finally{if(u)throw d}}s.debug&&vt(t.groupElement,"yellow")})}function f(n){var o=t.unitGroups.length;t.unitGroups.forEach(function(t,s){var c=ot({},i,{},t.options),l=e,u=!0,d=!1,v=void 0;try{for(var p,f=t.units.entries()[Symbol.iterator]();!(u=(p=f.next()).done);u=!0){var h=Object(q["a"])(p.value,2),m=(h[0],h[1]),b=ot({},c,{},m.options),g=m.parent?m.parent.x:(s+1)*a/(o+1);n===$.TreeRight?g+=b.treeOffset:n===$.TreeLeft&&(g-=b.treeOffset);var y=l;m.x=g,m.y=y,gt(m),l=m.ly+b.stackedOffset,ut(m.groupElement,m,g,y,b.debug),b.debug&&yt(r,m)}}catch(O){d=!0,v=O}finally{try{u||null==f.return||f.return()}finally{if(d)throw v}}c.debug&&vt(t.groupElement,"yellow")})}i.debug&&vt(t.groupElement)}},{key:"_drawConnectors",value:function(t){var e=this,n=this.options.maxLevels||t.levels.length;t.levels.forEach(function(t,i){var a=ot({},e.options,{},t.options);t.unitGroups.forEach(function(t,r){var o=i===n-1?e.options.lastLevelLayout:$.Horizontal,s=ot({},a,{},t.options);switch(t.units.forEach(function(t,n){var i=ot({},s,{},t.options);o===$.Stacked&&n>0||ht(o)||o!==$.Tree&&e._drawUnitLevelGroupConnectorPath(t,i)}),o){case $.TreeRight:case $.TreeLeft:case $.Tree:e._drawUnitLevelGroupTreeLeftRightConnectorPath(t.units,o,s);break;default:e._drawUnitLevelConnectorPath(t.units,s)}})})}},{key:"_drawUnitLevelGroupConnectorPath",value:function(t,e){var n=t.x,i=t.y;if(t.parent){var a=i-(i-t.parent.y)/2,r="M ".concat(n,", ").concat(i-t.octagonAnchor.y-e.connectorOffset," V ").concat(a);this.svg.append("path").attr("d",r).classed("o-line",!0)}}},{key:"_drawUnitLevelConnectorPath",value:function(t,e){var n=t[0],i=this.svg,a=n.parent;if(a){var r=t[t.length-1],o=n.y-(n.y-a.y)/2,s="M ".concat(a.x,", ").concat(a.ly+e.connectorOffset," V ").concat(o);i.append("path").attr("d",s).classed("o-line",!0);var c="M ".concat(n.x,", ").concat(o," H ").concat(r.x);i.append("path").attr("d",c).classed("o-line",!0)}}},{key:"_drawUnitLevelGroupTreeLeftRightConnectorPath",value:function(t,e,n){var i=this.svg,a=t[t.length-1],r=a.parent;if(r){var o="M ".concat(r.x,", ").concat(r.ly+n.connectorOffset," V ").concat(a.y);i.append("path").attr("d",o).classed("o-line",!0);var s=Math.max.apply(Math,Object(H["a"])(t.map(function(t){return t.boundingBox.width}))),c=!0,l=!1,u=void 0;try{for(var d,v=t.entries()[Symbol.iterator]();!(c=(d=v.next()).done);c=!0){var p=Object(q["a"])(d.value,2),f=p[0],h=p[1],m=void 0,b=Math.abs(h.boundingBox.width/2-s/2);m=e===$.TreeRight||e===$.Tree&&f%2?"M ".concat(h.lx-b-n.connectorOffset,", ").concat(h.y,"  H ").concat(r.x):"M ".concat(h.rx+b+n.connectorOffset,", ").concat(h.y,"  H ").concat(r.x),i.append("path").attr("d",m).classed("o-line",!0)}}catch(g){l=!0,u=g}finally{try{c||null==v.return||v.return()}finally{if(l)throw u}}}}},{key:"makeInteractive",value:function(){this._addSelectionLayer(this.renderedChart)}},{key:"_addSelectionLayer",value:function(t){var e=this;t.levels.forEach(function(t,n){e.highlightLevel(n),t.unitGroups.forEach(function(t){e.highlightGroup(t)})})}},{key:"removeSelectionLayer",value:function(){this._removeSelectEventListeners(),this.svg.selectAll("#o-highlight-layer rect").remove()}},{key:"highlightLevels",value:function(t){console.log("Not implemented yet",t)}}]),t}(),xt=kt,St=i["default"].extend({name:"OrbatChart",props:{unit:{type:Object,required:!0},maxLevels:{type:Number,default:3},debug:{type:Boolean,default:!1},symbolSize:{type:Number,default:32},connectorOffset:{type:Number,default:at.connectorOffset},orientation:{type:String,default:at.orientation},unitLevelDistance:{type:String,default:at.unitLevelDistance},lastLevelLayout:{type:String,default:$.Stacked},levelPadding:{type:Number,default:at.levelPadding},treeOffset:{type:Number,default:at.treeOffset},stackedOffset:{type:Number,default:at.stackedOffset},lineWidth:{type:Number,default:at.lineWidth},specificOptions:{type:Object},interactive:{type:Boolean,default:!0},highlightedLevels:{type:Array,default:function(){return[]}}},data:function(){return{resizeTimeout:null,width:600,height:600,isMounted:!1}},created:function(){},mounted:function(){this.isMounted=!0,this.width=this.$el.clientWidth,this.height=this.$el.clientHeight},destroyed:function(){this.orbchart&&this.orbchart.cleanup()},watch:{highlightedLevels:function(t){this.handleLevelHighlight(t)}},methods:{onResize:function(){clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){},200)},onClick:function(t){this.$emit("unitclick",t)},onLevelClick:function(t){this.$emit("levelclick",t)},onLevelGroupClick:function(t){this.$emit("levelgroupclick",t)},handleLevelHighlight:function(t){this.orbchart.highlightLevels(Object(H["a"])(t))}},render:function(t){this.orbchart&&this.orbchart.cleanup();var e=new xt(this.unit,{maxLevels:this.maxLevels,debug:this.debug,symbolSize:this.symbolSize,onClick:this.onClick,onLevelClick:this.onLevelClick,onLevelGroupClick:this.onLevelGroupClick,connectorOffset:this.connectorOffset,orientation:this.orientation,unitLevelDistance:this.unitLevelDistance,lastLevelLayout:this.lastLevelLayout,levelPadding:this.levelPadding,treeOffset:this.treeOffset,stackedOffset:this.stackedOffset,lineWidth:this.lineWidth},this.specificOptions||{});if(this.orbchart=e,this.isMounted){e.toSVG({width:1920,height:1080},this.$el);this.interactive&&e.makeInteractive()}return t("div",{attrs:{class:"orbat-chart"}})}}),jt=St,Ct=(n("b491"),Object(O["a"])(jt,Ot,Lt,!1,null,null,null)),wt=Ct.exports,It=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"spanel",class:{large:t.large}},[n("transition",{attrs:{name:"slide"},on:{"after-leave":t.afterLeave}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.isActive,expression:"isActive"}],staticClass:"slide"},[n("v-toolbar",{attrs:{dense:"",flat:""}},[t._t("header",[n("v-toolbar-title",[t._v(t._s(t.headerTitle))])]),n("v-spacer"),n("v-btn",{attrs:{text:"",icon:""},on:{click:function(e){t.isActive=!1}}},[n("v-icon",[t._v("mdi-chevron-left")])],1)],2),n("div",{staticClass:"slide-content"},[t._t("default")],2)],1)])],1)},Ut=[],Gt={name:"slide-panel",data:function(){return{isActive:!1}},beforeMount:function(){this.isActive=this.value},props:{value:{required:!1},headerTitle:String,large:Boolean},watch:{isActive:function(t){this.$emit("input",t)},value:function(t){this.isActive=t}},methods:{afterLeave:function(){this.$emit("onSlide")}}},Pt=Gt,_t=(n("8e3b"),n("2fa4")),Tt=n("71d9"),Vt=n("2a7f"),Et=Object(O["a"])(Pt,It,Ut,!1,null,"7ab94646",null),$t=Et.exports;k()(Et,{VBtn:j["a"],VIcon:G["a"],VSpacer:_t["a"],VToolbar:Tt["a"],VToolbarTitle:Vt["a"]});var At,Bt,Mt=i["default"].extend({name:"MilSymbol",props:{sidc:String,size:{type:Number,default:15},modifiers:{type:Object}},render:function(t){var e=new Y.a.Symbol(this.sidc,{size:this.size,simpleStatusModifier:!0},this.modifiers||{});return t("span",{attrs:{class:"milsymbol"},domProps:{innerHTML:e.asSVG()}})}}),Nt=Mt,Dt=Object(O["a"])(Nt,At,Bt,!1,null,null,null),zt=Dt.exports,Rt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-treeview",{attrs:{items:t.rootUnits,activatable:"","item-children":"subUnits"},on:{"update:active":t.onUnitClick},scopedSlots:t._u([{key:"prepend",fn:function(t){var e=t.item;t.open,t.leaf;return[n("MilSymbol",{attrs:{sidc:e.sidc}})]}},{key:"append",fn:function(e){var i=e.item,a=e.active;return[a?n("v-icon",{staticClass:"pr-3",attrs:{title:"Set as root unit"},on:{click:function(e){return t.setRootUnit(i)}}},[t._v("\n      mdi-image-filter-center-focus-strong\n    ")]):t._e(),i.id==t.currentUnitKey?n("v-icon",{staticClass:"pr-3"},[t._v("\n      mdi-crosshairs-gps\n    ")]):t._e()]}}])})},Ht=[],qt=(n("5df3"),n("f400"),function(t){function e(){var t;return Object(o["a"])(this,e),t=Object(c["a"])(this,Object(l["a"])(e).apply(this,arguments)),t.currentUnitKey=null,t}return Object(u["a"])(e,t),Object(s["a"])(e,[{key:"created",value:function(){this.unitMap=new Map,this.buildUnitMap(this.rootUnits),this.currentUnitKey=this.rootUnits[0].id}},{key:"onUnitClick",value:function(t){t.length}},{key:"setRootUnit",value:function(t){this.currentUnitKey=t.id,this.$emit("selectunit",this.unitMap.get(t.id))}},{key:"buildUnitMap",value:function(t){var e=!0,n=!1,i=void 0;try{for(var a,r=t[Symbol.iterator]();!(e=(a=r.next()).done);e=!0){var o=a.value;this.unitMap.set(o.id,o),o.subUnits&&o.subUnits.length&&this.buildUnitMap(o.subUnits)}}catch(s){n=!0,i=s}finally{try{e||null==r.return||r.return()}finally{if(n)throw i}}}}]),e}(i["default"]));d["a"]([Object(R["b"])()],qt.prototype,"rootUnits",void 0),qt=d["a"]([p()({components:{MilSymbol:zt}})],qt);var Ft=qt,Wt=Ft,Yt=n("eb2a"),Xt=Object(O["a"])(Wt,Rt,Ht,!1,null,"17255396",null),Zt=Xt.exports;k()(Xt,{VIcon:G["a"],VTreeview:Yt["a"]});var Qt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-tabs",{model:{value:t.activeSettingsPanel,callback:function(e){t.activeSettingsPanel=e},expression:"activeSettingsPanel"}},[n("v-tab",{attrs:{href:"#"}},[t._v("Chart")]),n("v-tab",{attrs:{href:"#"}},[t._v("Level")]),n("v-tab",{attrs:{href:"#"}},[t._v("Group")]),n("v-tab",{attrs:{href:"#"}},[t._v("Unit")]),n("v-tab-item",[n("div",{staticClass:"pa-3"},[n("v-text-field",{attrs:{value:t.settings.maxLevels,type:"number",label:"Visible levels"},on:{input:function(e){return t.updateNum("maxLevels",e)}}}),n("v-text-field",{attrs:{label:"Symbol size",type:"number",min:"5",value:t.settings.symbolSize},on:{input:function(e){return t.updateNum("symbolSize",e)}}}),n("v-text-field",{attrs:{label:"Connector offset",type:"number",min:"0",value:t.settings.connectorOffset},on:{input:function(e){return t.updateNum("connectorOffset",e)}}}),n("v-text-field",{attrs:{label:"Level padding",type:"number",min:"0",value:t.settings.levelPadding},on:{input:function(e){return t.updateNum("levelPadding",e)}}}),n("v-text-field",{attrs:{disabled:t.noTreeOffset,label:"Tree offset",type:"number",min:"0",value:t.settings.treeOffset},on:{input:function(e){return t.updateNum("treeOffset",e)}}}),n("v-text-field",{attrs:{disabled:t.noStackedTreeOffset,label:"Stacked offset",type:"number",min:"0",value:t.settings.stackedOffset},on:{input:function(e){return t.updateNum("stackedOffset",e)}}}),n("v-text-field",{attrs:{label:"Line width",type:"number",min:"0",value:t.settings.lineWidth},on:{input:function(e){return t.updateNum("lineWidth",e)}}}),n("v-select",{attrs:{label:"Unit spacing",items:t.unitLevelDistance,value:t.settings.unitLevelDistance},on:{input:function(e){return t.updateVal("unitLevelDistance",e)}}}),n("v-select",{attrs:{label:"Last level layout",items:t.lastLevelLayout,value:t.settings.lastLevelLayout},on:{input:function(e){return t.updateVal("lastLevelLayout",e)}}}),n("v-checkbox",{attrs:{label:"Debug mode",value:t.settings.debug},on:{change:function(e){return t.updateVal("debug",e)}}}),n("v-checkbox",{attrs:{label:"Select mode"},model:{value:t.interactiveChart,callback:function(e){t.interactiveChart=e},expression:"interactiveChart"}})],1)]),n("v-tab-item",{attrs:{eager:""}},[n("div",{staticClass:"pa-3"},[n("SettingsLevel")],1)]),n("v-tab-item",{attrs:{eager:""}},[n("div",{staticClass:"pa-3"},[n("SettingsLevelGroup")],1)]),n("v-tab-item",{attrs:{eager:""}},[n("div",{staticClass:"pa-3"},[n("SettingsUnit")],1)])],1)},Jt=[];n("ffc1");function Kt(t){return Object.entries(t).map(function(t){var e=Object(q["a"])(t,2),n=e[0],i=e[1];return{text:n,value:i}})}var te=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-list",{attrs:{dense:""}},[n("v-subheader",[t._v("Units with settings")]),n("v-list-item-group",{attrs:{color:"primary"},model:{value:t.itemIndex,callback:function(e){t.itemIndex=e},expression:"itemIndex"}},t._l(t.items,function(e){return n("v-list-item",{key:e.id,staticClass:"ma-n1",attrs:{ripple:"",href:"#"},on:{click:function(n){return t.selectUnit(e)}}},[n("v-list-item-action",[n("MilSymbol",{attrs:{sidc:e.sidc}})],1),n("v-list-item-content",[n("v-list-item-title",[t._v(t._s(e.name))])],1),n("v-list-item-icon",[n("v-btn",{attrs:{icon:"",ripple:"",small:"",title:"Clear unit settings"}},[n("v-icon",{attrs:{color:"grey lighten-1"},on:{click:function(n){return n.stopPropagation(),t.clearUnitSettings(e)}}},[t._v("mdi-close")])],1)],1)],1)}),1)],1),n("v-divider"),t.currentUnit?n("div",[n("span",{staticClass:"subtitle-2"},[t._v("Current unit\n    "),n("MilSymbol",{staticClass:"inline-symbol",attrs:{sidc:t.currentUnit.sidc}}),t._v(" "+t._s(t.currentUnit.name)+" ")],1)]):t._e(),n("v-divider"),n("SettingsSpecific",{attrs:{options:t.currentOptions},on:{update:t.onUpdate,clear:t.clearSpecific}})],1)},ee=[],ne=(n("20d6"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{},t._l(t.items,function(e,i){return n(e.component,t._b({key:i,tag:"component",attrs:{value:t.opts[e.name]},on:t._d({"click:clear":function(n){return t.clearField(e)}},[e.event,function(n){return t.updateValue(e,n)}])},"component",e,!1))}),1)}),ie=[],ae=n("f7fe"),re=n.n(ae),oe=n("8654"),se=n("ac7c"),ce=n("b974");function le(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function ue(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?le(n,!0).forEach(function(e){Object(F["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):le(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var de=[{label:"Symbol size",type:"number",name:"symbolSize",min:0},{label:"Level padding",type:"number",name:"levelPadding",min:0},{label:"Connector offset",type:"number",name:"connectorOffset",min:0},{label:"Tree offset",type:"number",name:"treeOffset",min:0},{label:"Layout",type:"select",name:"layout",items:Kt($)},{label:"Unit spacing",type:"select",name:"unitLevelDistance",items:Kt(A)},{label:"Debug mode",type:"boolean",name:"debug"}],ve={number:"VTextField",boolean:"VCheckbox",select:"VSelect"},pe={number:"input",boolean:"change",select:"input"},fe="input",he="VTextField",me=function(t){function e(){var t;return Object(o["a"])(this,e),t=Object(c["a"])(this,Object(l["a"])(e).apply(this,arguments)),t.debouncedUpdate=re()(t._updateValue,500),t}return Object(u["a"])(e,t),Object(s["a"])(e,[{key:"updateValue",value:function(t,e){this.debouncedUpdate(t,e)}},{key:"_updateValue",value:function(t,e){var n=e;t.type&&"number"==t.type&&(n=+e),this.$emit("update",ue({},this.options,Object(F["a"])({},t.name,n)))}},{key:"clearField",value:function(t){var e=this;this.$nextTick(function(){e.debouncedUpdate.cancel(),e.$emit("clear",t.name)})}},{key:"items",get:function(){var t=this,e=de;return e.map(function(e){return ue({},e,{component:ve[e.type]||he,event:pe[e.type]||fe,filled:!(null==t.opts[e.name]),clearable:!0})})}},{key:"opts",get:function(){return this.options?this.options:{}}}]),e}(R["c"]);d["a"]([Object(R["b"])({required:!0,default:function(){}})],me.prototype,"options",void 0),me=d["a"]([Object(R["a"])({components:{VTextField:oe["a"],VCheckbox:se["a"],VSelect:ce["a"]}})],me);var be=me,ge=be,ye=Object(O["a"])(ge,ne,ie,!1,null,null,null),Oe=ye.exports,Le="LEVEL_CLICK",ke="LEVELGROUP_CLICK",xe="UNIT_CLICK",Se=new i["default"],je=function(t){function e(){return Object(o["a"])(this,e),Object(c["a"])(this,Object(l["a"])(e).apply(this,arguments))}return Object(u["a"])(e,t),Object(s["a"])(e,[{key:"mounted",value:function(){var t=this;Se.$on(xe,function(e){t.activeSettingsPanel=3,t.$store.dispatch("selectChartItem",{itemType:M.Unit,id:e})})}},{key:"destroyed",value:function(){Se.$off(xe)}},{key:"clearSpecific",value:function(t){this.$store.dispatch("clearSpecificUnitOption",{id:this.currentUnitId,name:t})}},{key:"selectUnit",value:function(t){this.$store.dispatch("selectChartItem",{itemType:M.Unit,id:t.id})}},{key:"onUpdate",value:function(t){this.$store.commit("updateUnitOptions",{id:this.currentUnitId,value:t})}},{key:"clearUnitSettings",value:function(t){this.$store.commit("clearUnitOptions",t.id)}},{key:"currentUnitId",get:function(){return this.$store.state.ui.selectedUnitId}},{key:"itemIndex",get:function(){var t=this;return this.items.findIndex(function(e){return e.id===t.currentUnitId})},set:function(t){}},{key:"currentOptions",get:function(){return null===this.currentUnitId?null:this.unitOptions[this.currentUnitId]}},{key:"unitOptions",get:function(){return this.$store.state.chart.unitOptions}},{key:"unitMap",get:function(){return this.$store.getters.unitMap}},{key:"currentUnit",get:function(){return this.currentUnitId?this.unitMap[this.currentUnitId]:null}},{key:"items",get:function(){var t=this;return Object.entries(this.unitOptions).map(function(e){var n=Object(q["a"])(e,2),i=n[0],a=(n[1],t.unitMap[i]);return{name:a.name,id:i,sidc:a.sidc}})}}]),e}(Object(v["mixins"])(f));je=d["a"]([Object(R["a"])({components:{MilSymbol:zt,SettingsSpecific:Oe}})],je);var Ce=je,we=Ce,Ie=n("ce7e"),Ue=n("8860"),Ge=n("da13"),Pe=n("1800"),_e=n("5d23"),Te=n("1baa"),Ve=n("34c3"),Ee=n("e0c7"),$e=Object(O["a"])(we,te,ee,!1,null,null,null),Ae=$e.exports;k()($e,{VBtn:j["a"],VDivider:Ie["a"],VIcon:G["a"],VList:Ue["a"],VListItem:Ge["a"],VListItemAction:Pe["a"],VListItemContent:_e["a"],VListItemGroup:Te["a"],VListItemIcon:Ve["a"],VListItemTitle:_e["b"],VSubheader:Ee["a"]});var Be=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{},[n("v-list",{attrs:{dense:""}},[n("v-subheader",[t._v("Levels")]),n("v-list-item-group",{attrs:{color:"primary"},model:{value:t.item,callback:function(e){t.item=e},expression:"item"}},t._l(t.items,function(e){return n("v-list-item",{key:e.id,staticClass:"ma-n1",attrs:{ripple:"",active:e.id==t.currentLevelIndex,href:"#"},on:{click:function(n){return t.selectLevel(e)}}},[n("v-list-item-action",[e.id==t.currentLevelIndex?n("v-icon",{attrs:{color:"pink"}},[t._v("mdi-star")]):t._e()],1),n("v-list-item-content",[n("v-list-item-title",{domProps:{textContent:t._s(e.title)}})],1),n("v-list-item-icon",[n("v-btn",{attrs:{icon:"",ripple:"",small:"",title:"Clear level settings"}},[n("v-icon",{attrs:{color:"grey lighten-1"},on:{click:function(n){return n.stopPropagation(),t.clearLevelSettings(e)}}},[t._v("mdi-close")])],1)],1)],1)}),1)],1),null!=t.currentLevelIndex?n("SettingsSpecific",{attrs:{options:t.currentOptions},on:{update:t.onUpdate,clear:t.clearSpecific}}):t._e()],1)},Me=[],Ne=function(t){function e(){return Object(o["a"])(this,e),Object(c["a"])(this,Object(l["a"])(e).apply(this,arguments))}return Object(u["a"])(e,t),Object(s["a"])(e,[{key:"mounted",value:function(){var t=this;Se.$on(Le,function(e){t.activeSettingsPanel=1,t.$store.dispatch("selectChartItem",{itemType:M.Level,id:e})})}},{key:"destroyed",value:function(){Se.$off(Le)}},{key:"selectLevel",value:function(t){this.$store.dispatch("selectChartItem",{itemType:M.Level,id:t.id}),this.highlightedLevels=[t.id]}},{key:"clearLevelSettings",value:function(t){this.$store.commit("clearLevelOptions",t.id)}},{key:"clearSpecific",value:function(t){this.$store.dispatch("clearSpecificLevelOption",{id:this.currentLevelIndex,name:t})}},{key:"onUpdate",value:function(t){this.$store.commit("updateLevelOptions",{id:this.currentLevelIndex,value:t})}},{key:"item",get:function(){return this.currentLevelIndex-1},set:function(t){}},{key:"currentLevelIndex",get:function(){return this.$store.state.ui.selectedLevelIndex}},{key:"levelOptions",get:function(){return this.$store.state.chart.levelOptions}},{key:"currentOptions",get:function(){return this.currentLevelIndex?this.levelOptions[this.currentLevelIndex]:null}},{key:"items",get:function(){var t=Object.entries(this.levelOptions).map(function(t){var e=Object(q["a"])(t,2),n=e[0];e[1];return{title:"Level ".concat(n),id:n}});return t}}]),e}(Object(v["mixins"])(f));Ne=d["a"]([Object(R["a"])({components:{SettingsSpecific:Oe}})],Ne);var De=Ne,ze=De,Re=Object(O["a"])(ze,Be,Me,!1,null,null,null),He=Re.exports;k()(Re,{VBtn:j["a"],VIcon:G["a"],VList:Ue["a"],VListItem:Ge["a"],VListItemAction:Pe["a"],VListItemContent:_e["a"],VListItemGroup:Te["a"],VListItemIcon:Ve["a"],VListItemTitle:_e["b"],VSubheader:Ee["a"]});var qe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-list",{attrs:{dense:""}},[n("v-subheader",[t._v("Groups with settings")]),n("v-list-item-group",{attrs:{color:"primary"},model:{value:t.itemIndex,callback:function(e){t.itemIndex=e},expression:"itemIndex"}},t._l(t.items,function(e){return n("v-list-item",{key:e.id,staticClass:"ma-n1",attrs:{ripple:"",href:"#"},on:{click:function(n){return t.selectLevelGroup(e)}}},[n("v-list-item-action",[n("MilSymbol",{attrs:{sidc:e.sidc}})],1),n("v-list-item-content",[n("v-list-item-title",[t._v(t._s(e.name)+" ...")])],1),n("v-list-item-icon",[n("v-btn",{attrs:{icon:"",ripple:"",small:"",title:"Clear level settings"}},[n("v-icon",{attrs:{color:"grey lighten-1"},on:{click:function(n){return n.stopPropagation(),t.clearLevelGroupSettings(e)}}},[t._v("mdi-close")])],1)],1)],1)}),1)],1),n("v-divider"),t.currentParentUnit?n("div",[n("span",{staticClass:"subtitle-2"},[t._v("Current group\n    "),n("MilSymbol",{staticClass:"inline-symbol",attrs:{sidc:t.currentParentUnit.sidc}}),t._v(" "+t._s(t.currentParentUnit.name)+" ... ")],1)]):t._e(),n("v-divider"),n("SettingsSpecific",{attrs:{options:t.currentOptions},on:{update:t.onUpdate,clear:t.clearSpecific}})],1)},Fe=[],We=function(t){function e(){return Object(o["a"])(this,e),Object(c["a"])(this,Object(l["a"])(e).apply(this,arguments))}return Object(u["a"])(e,t),Object(s["a"])(e,[{key:"mounted",value:function(){var t=this;Se.$on(ke,function(e){t.activeSettingsPanel=2,t.$store.dispatch("selectChartItem",{itemType:M.LevelGroup,id:e})})}},{key:"destroyed",value:function(){Se.$off(ke)}},{key:"clearSpecific",value:function(t){this.$store.dispatch("clearSpecificLevelGroupOption",{id:this.currentLevelGroupId,name:t})}},{key:"selectLevelGroup",value:function(t){this.$store.dispatch("selectChartItem",{itemType:M.LevelGroup,id:t.id})}},{key:"onUpdate",value:function(t){this.$store.commit("updateLevelGroupOptions",{id:this.currentLevelGroupId,value:t})}},{key:"clearLevelGroupSettings",value:function(t){this.$store.commit("clearLevelGroupOptions",t.id)}},{key:"currentLevelGroupId",get:function(){return this.$store.state.ui.selectedLevelGroupId}},{key:"itemIndex",get:function(){var t=this;return this.items.findIndex(function(e){return e.id===t.currentLevelGroupId})},set:function(t){}},{key:"currentOptions",get:function(){return null===this.currentLevelGroupId?null:this.$store.state.chart.levelGroupOptions[this.currentLevelGroupId]}},{key:"levelGroupOptions",get:function(){return this.$store.state.chart.levelGroupOptions}},{key:"unitMap",get:function(){return this.$store.getters.unitMap}},{key:"currentParentUnit",get:function(){return this.currentLevelGroupId?this.unitMap[this.currentLevelGroupId]:null}},{key:"items",get:function(){var t=this;return Object.entries(this.levelGroupOptions).map(function(e){var n=Object(q["a"])(e,2),i=n[0],a=(n[1],t.unitMap[i]);return{name:a.name,id:i,sidc:a.sidc}})}}]),e}(Object(v["mixins"])(f));We=d["a"]([Object(R["a"])({components:{SettingsSpecific:Oe,MilSymbol:zt}})],We);var Ye=We,Xe=Ye,Ze=Object(O["a"])(Xe,qe,Fe,!1,null,null,null),Qe=Ze.exports;k()(Ze,{VBtn:j["a"],VDivider:Ie["a"],VIcon:G["a"],VList:Ue["a"],VListItem:Ge["a"],VListItemAction:Pe["a"],VListItemContent:_e["a"],VListItemGroup:Te["a"],VListItemIcon:Ve["a"],VListItemTitle:_e["b"],VSubheader:Ee["a"]});var Je=function(t){function e(){return Object(o["a"])(this,e),Object(c["a"])(this,Object(l["a"])(e).apply(this,arguments))}return Object(u["a"])(e,t),Object(s["a"])(e,[{key:"updateNum",value:function(t,e){this.$store.commit("updateChartOptions",Object(F["a"])({},t,+e))}},{key:"updateVal",value:function(t,e){this.$store.commit("updateChartOptions",Object(F["a"])({},t,e))}},{key:"orientation",get:function(){return Kt(E)}},{key:"unitLevelDistance",get:function(){return Kt(A)}},{key:"lastLevelLayout",get:function(){return Kt($)}},{key:"noTreeOffset",get:function(){return!mt(this.settings.lastLevelLayout)}},{key:"noStackedTreeOffset",get:function(){return!bt(this.settings.lastLevelLayout)}}]),e}(Object(v["mixins"])(h,f));Je=d["a"]([Object(R["a"])({components:{SettingsLevelGroup:Qe,SettingsLevel:He,SettingsUnit:Ae}})],Je);var Ke=Je,tn=Ke,en=n("71a3"),nn=n("c671"),an=n("fe57"),rn=Object(O["a"])(tn,Qt,Jt,!1,null,null,null),on=rn.exports;k()(rn,{VCheckbox:se["a"],VSelect:ce["a"],VTab:en["a"],VTabItem:nn["a"],VTabs:an["a"],VTextField:oe["a"]});var sn=function(t){function e(){return Object(o["a"])(this,e),Object(c["a"])(this,Object(l["a"])(e).apply(this,arguments))}return Object(u["a"])(e,t),Object(s["a"])(e,[{key:"created",value:function(){this.currentUnit=this.orbat[0]}},{key:"onSlide",value:function(){}},{key:"onUnitClick",value:function(t){console.log("Clicked",t.unit.name),Se.$emit(xe,t.unit.id)}},{key:"onLevelClick",value:function(t){Se.$emit(Le,t)}},{key:"onLevelGroupClick",value:function(t){Se.$emit(ke,t)}},{key:"onSelectUnit",value:function(t){Se.$emit(xe,t),this.currentUnit=t}},{key:"orbat",get:function(){return this.$store.state.orbat.rootUnits}},{key:"currentUnit",get:function(){return this.$store.getters.currentUnit},set:function(t){this.$store.commit("setCurrentUnit",t)}},{key:"specificOptions",get:function(){return this.$store.getters.specificOptions}}]),e}(Object(v["mixins"])(h,f));sn=d["a"]([Object(R["a"])({components:{SettingsPanel:on,OrbatTree:Zt,OrbatChart:wt,SlidePanel:$t,MilSymbol:zt}})],sn);var cn=sn,ln=cn,un=(n("dfeb"),Object(O["a"])(ln,D,z,!1,null,"2dbfaa6f",null)),dn=un.exports;k()(un,{VFlex:U["a"],VLayout:P["a"]});var vn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-btn",{attrs:{text:"",icon:"",dark:"",small:"",title:"Download as SVG"},on:{click:t.downloadAsSVG}},[n("v-icon",[t._v("mdi-download")])],1)],1)},pn=[],fn=n("21a6"),hn={name:"MainViewToolbar",methods:{downloadAsSVG:function(){var t=document.getElementsByClassName("orbat-chart")[0];fn["saveAs"](new Blob([(new XMLSerializer).serializeToString(t)],{type:"image/svg+xml"}),"orbat-chart.svg")}}},mn=hn,bn=Object(O["a"])(mn,vn,pn,!1,null,"8bba814a",null),gn=bn.exports;k()(bn,{VBtn:j["a"],VIcon:G["a"]}),i["default"].use(N["a"]);var yn=new N["a"]({routes:[{path:"/",name:"mainView",components:{default:dn,toolbar:gn}},{path:"/about",name:"about",component:function(){return n.e("about").then(n.bind(null,"f820"))}}]}),On=n("2f62"),Ln={orbatPanel:!0,settingsPanel:!0,interactiveChart:!0,activeSettingsPanel:0,highlightedLevels:[],highlightedLevelGroups:[],selectedUnitId:null,selectedLevelIndex:-1,selectedLevelGroupId:null},kn={setOrbatPanel:function(t,e){t.orbatPanel=e},setSettingsPanel:function(t,e){t.settingsPanel=e},setInteractiveChart:function(t,e){t.interactiveChart=e},setActiveSettingsPanel:function(t,e){t.activeSettingsPanel=e},setHighlightedLevels:function(t,e){t.highlightedLevels=e},setHighligtedLevelGroups:function(t,e){t.highlightedLevelGroups=e},clearSelectedChartItem:function(t){t.selectedLevelGroupId=null,t.selectedLevelGroupId=null,t.selectedLevelIndex=-1},setSelectedUnitId:function(t,e){t.selectedUnitId=e},setSelectedLevelGroupId:function(t,e){t.selectedLevelGroupId=e},setSelectedLevelIndex:function(t,e){t.selectedLevelIndex=e}},xn={selectChartItem:function(t,e){t.state;var n=t.commit,i=e.itemType,a=e.id;switch(n("clearSelectedChartItem"),i){case M.Level:n("setSelectedLevelIndex",a);break;case M.LevelGroup:n("setSelectedLevelGroupId",a);break;case M.Unit:n("setSelectedUnitId",a);break}}},Sn={},jn={state:Ln,mutations:kn,getters:Sn,actions:xn},Cn={rootUnits:[],currentUnit:null};function wn(t){var e={};return t.rootUnits.forEach(function(t){Z(t,function(t){e[t.id]={id:t.id,name:t.name,sidc:t.sidc}})}),e}var In={setCurrentUnit:function(t,e){t.currentUnit=e},setOrbat:function(t,e){t.rootUnits=e}},Un={currentUnit:function(t){return t.currentUnit},unitMap:function(t){return wn(t)}},Gn={state:Cn,mutations:In,getters:Un};function Pn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function _n(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Pn(n,!0).forEach(function(e){Object(F["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pn(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var Tn={chartOptions:_n({},at,{maxLevels:4,lastLevelLayout:$.TreeRight}),levelOptions:{},levelGroupOptions:{},unitOptions:{}};var Vn={setChartOptions:function(t,e){t.chartOptions=e},updateChartOptions:function(t,e){t.chartOptions=Object.assign({},t.chartOptions,e)},setLevelOptions:function(t,e){t.levelOptions=e},setUnitOptions:function(t,e){t.unitOptions=e},clearLevelOptions:function(t,e){i["default"].delete(t.levelOptions,e)},updateLevelOptions:function(t,e){var n=e.id,a=e.value;i["default"].set(t.levelOptions,n,a)},clearSpecificLevelOption:function(t,e){var n=e.id,a=e.name;i["default"].delete(t.levelOptions[n],a)},setLevelGroupOptions:function(t,e){t.levelGroupOptions=e},updateLevelGroupOptions:function(t,e){var n=e.id,a=e.value;i["default"].set(t.levelGroupOptions,n,a)},clearLevelGroupOptions:function(t,e){i["default"].delete(t.levelGroupOptions,e)},clearSpecificLevelGroupOption:function(t,e){var n=e.id,a=e.name;i["default"].delete(t.levelGroupOptions[n],a)},updateUnitOptions:function(t,e){var n=e.id,a=e.value;i["default"].set(t.unitOptions,n,a)},clearUnitOptions:function(t,e){i["default"].delete(t.unitOptions,e)},clearSpecificUnitOption:function(t,e){var n=e.id,a=e.name;i["default"].delete(t.unitOptions[n],a)}},En={clearSpecificLevelOption:function(t,e){var n=t.state,i=t.commit,a=e.id,r=e.name;i("clearSpecificLevelOption",{id:a,name:r});var o=n.levelOptions[a];o&&0==Object.keys(o).length&&i("clearLevelOptions",a)},clearSpecificLevelGroupOption:function(t,e){var n=t.state,i=t.commit,a=e.id,r=e.name;i("clearSpecificLevelGroupOption",{id:a,name:r});var o=n.levelGroupOptions[a];o&&0==Object.keys(o).length&&i("clearLevelGroupOptions",a)},clearSpecificUnitOption:function(t,e){var n=t.state,i=t.commit,a=e.id,r=e.name;i("clearSpecificUnitOption",{id:a,name:r});var o=n.unitOptions[a];o&&0==Object.keys(o).length&&i("clearUnitOptions",a)}},$n={specificOptions:function(t){return{level:t.levelOptions,levelGroup:t.levelGroupOptions,unit:t.unitOptions}},levels:function(t){return Object.keys(t.levelOptions)}},An={state:Tn,mutations:Vn,actions:En,getters:$n};i["default"].use(On["a"]);var Bn=new On["a"].Store({modules:{ui:jn,orbat:Gn,chart:An}}),Mn=n("f309");i["default"].use(Mn["a"]);var Nn=new Mn["a"]({icons:{iconfont:"mdi"}});n("3a62");i["default"].config.productionTip=!1,new i["default"]({router:yn,store:Bn,vuetify:Nn,render:function(t){return t(V)}}).$mount("#app")},cf68:function(t){t.exports={name:"TG 317.1 LG",sidc:"10031004001211000000",subUnits:[{name:"3 Cdo Bde",sidc:"10031000181211004600",subUnits:[{name:"40 Cdo",sidc:"10031000161211004600",state:[],id:"u0xGEGuOLzIcIirsioK0h",subUnits:[{name:"A",sidc:"10031000151211004600",id:"IZI2tUkYvhmVxShmC8~n~",state:[]},{name:"B",sidc:"10031000151211004600",id:"bJewqRWgkcxt3Lt53sz_c",state:[]},{name:"C",sidc:"10031000151211004600",id:"1ytAWaNFpcrYFLuGetut1",state:[]}]},{name:"42 Cdo",sidc:"10031000161211004600",state:[],id:"xcEG3htG0iZEuisD9IhGY",subUnits:[{name:"J",sidc:"10031000151211004600",id:"Yfj4qs4nUyG3DOLwzG8hY",state:[]},{name:"K",sidc:"10031000151211004600",id:"Od6fwg9FD5upCkXDIBalQ",state:[]},{name:"L",sidc:"10031000151211004600",id:"jdXcqNaLkNJxH97rVmUP_",state:[]}]},{name:"45 Cdo",sidc:"10031000161211004600",state:[],id:"0fm4O5tSvrVwjnv9~6ECy",subUnits:[{name:"X",sidc:"10031000151211004600",id:"7yI8rtwPIXI07Ag1Qyuem",state:[]},{name:"Y",sidc:"10031000151211004600",id:"QrSxdjL5eV~w1mJkRhUzH",state:[]},{name:"Z",sidc:"10031000151211004600",id:"~WAhIuR0DjOs6vxdNmTcn",state:[]}]},{name:"29 Cdo RA",sidc:"10031000161303000000",state:[],id:"qF9mX0pKVgtu7cVHjsXy5"},{name:"2 Para",sidc:"10031000161211000001",subUnits:[{name:"29 FB",sidc:"10031000151303000000",state:[],id:"vydX8pjg7sB1t37a5pBN1",subUnits:[]},{name:"43 AD",sidc:"10031000141301020000",state:[],id:"peqkxwOqZXYkpSsx4KRCj"},{name:"A COY",sidc:"10031000151211000001",id:"wbPe8yifmaTgAxT2oD1Ff",state:[],shortName:"A"},{name:"B COY",sidc:"10031000151211000001",id:"rVxn2~0XEf8E7WeuPxUe6",state:[],shortName:"B"},{name:"C COY",sidc:"10031000151213000001",id:"vu2TRMUpnGI2klzs19BgZ",state:[],shortName:"C"},{name:"D COY",sidc:"10031000151211000001",id:"~78NfpA426AitI60JeWSa",state:[],shortName:"D"}],state:[],id:"QyZAnvqo5EXsjcNis_GSE"},{name:"3 Para",sidc:"10031000161211000001",subUnits:[{name:"A COY",sidc:"10031000151211000001",id:"INGH8mxuQMnN7LBZhXV_y",state:[],shortName:"A"},{name:"B COY",sidc:"10031000151211000001",id:"~8cVJd3hQNPr8exESXML9",state:[],shortName:"B"},{name:"C COY",sidc:"10031000151211000001",id:"bsMEfBAVOxvYu86qvP0Wq",state:[],shortName:"C"},{name:"D COY",sidc:"10031000151213000001",id:"uUlcvH2~mvagZr1QGoZcP",state:[],shortName:"D"}],state:[],id:"UlbrqVz6kysuUCzz7hSTu"}],state:[],id:"yeyNm2QTCh_yivrfpnv0N"},{name:"5 Inf Bde",sidc:"10031000181211000000",state:[],id:"LurqqM75Avg1_t0AjxUgi",subUnits:[{name:"2nd Bn Scots Guards",sidc:"10031000161211000000",id:"ZZhPAmDQzAT6JWhesPzQ2",state:[],shortName:"SG",subUnits:[{name:"Left Flank",sidc:"10031000151211000000",id:"ZAWfVIlG0e0m1InBT3IT4",state:[]},{name:"Right Flank",sidc:"10031000151211000000",id:"yzpHFOCCRimBYvqSVrX4L",state:[]},{name:"G",sidc:"10031000151211000000",id:"9FVjQSncFLH79op7Qkxf8",state:[]}]},{name:"1st Bn Welsh Guards",sidc:"10031000161211000000",id:"gkcIswEB_vLPW_a3NCJzx",state:[],subUnits:[{name:"A",sidc:"10031000151211000000",id:"KpUf09vznddzJFYui~VqB",state:[]},{name:"B",sidc:"10031000151211000000",id:"tHQUyvAwEeHM3b6oqs_sx",state:[]},{name:"C",sidc:"10031000151211000000",id:"AVTtTTl74B4vb0~0Sgh2G",state:[]}],shortName:"WG"},{name:"1st Bn 7th Gurkha Rifles",sidc:"10031000161211000000",id:"ugu_gHIyde1iuwHYC34_k",state:[],subUnits:[{name:"A",sidc:"10031000151211000000",id:"VLIG7n45M~rRSQwYxH_hG",state:[]},{name:"B",sidc:"10031000151211000000",id:"qF_DjGeGKaOtIId4p_kAS",state:[]},{name:"C",sidc:"10031000151211000000",id:"9weLN4wM97mOy97TCvykV",state:[]},{name:"D",sidc:"10031000151211000000",id:"DAVyXZm9T3iQ5jay5JQZq",state:[]}],shortName:"7 GR"},{name:"36 Engineer Regiment",sidc:"10031000161407000000",id:"kkfnLWpc2cK1uw2qX6XwB",state:[],shortName:"36 Eng"},{name:"63 AD Squadron",sidc:"10031000151301020000",id:"qhZBaHDgQYOvP4fCSqMXZ",state:[],shortName:"63 AD"},{name:"97 Field Battery",sidc:"10031000151303000000",id:"5yU8AvSZGcNDLjGpCZJJC",state:[],shortName:"97 FB"}]}],state:[],id:"Apc~4XNmoJDViPTPdcoJS"}},dfeb:function(t,e,n){"use strict";var i=n("0213"),a=n.n(i);a.a}});
//# sourceMappingURL=app-legacy.9b1e3208.js.map